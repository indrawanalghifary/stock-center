{% extends 'base.html' %}
{% load humanize %}

{% block title %}Hapus Transaksi #{{ object.id }}{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="breadcrumbs text-sm mb-4">
        <ul>
            <li><a href="{% url 'transaction_list' %}">Transaksi</a></li>
            <li>Hapus Transaksi</li>
        </ul>
    </div>

    <div class="alert alert-error shadow-lg mb-4">
        <div>
            <i data-lucide="alert-circle"></i>
            <span>Apakah Anda yakin ingin menghapus transaksi ini?</span>
        </div>
    </div>

    <div class="bg-base-100 shadow rounded-box p-6">
        <h2 class="text-2xl font-bold mb-4">Hapus Transaksi</h2>
        
        <div class="bg-warning/10 border border-warning rounded p-4 mb-4">
            <div class="grid grid-cols-2 gap-4 text-sm">
                <div>
                    <p class="text-gray-500">ID Transaksi</p>
                    <p class="font-bold text-lg">#{{ object.id }}</p>
                </div>
                <div>
                    <p class="text-gray-500">Status</p>
                    <p class="font-bold">{{ object.status }}</p>
                </div>
                <div>
                    <p class="text-gray-500">Reseller</p>
                    <p class="font-bold">{{ object.reseller.name }}</p>
                </div>
                <div>
                    <p class="text-gray-500">Gudang</p>
                    <p class="font-bold">{{ object.warehouse.name }}</p>
                </div>
                <div>
                    <p class="text-gray-500">Tanggal</p>
                    <p class="font-bold">{{ object.created_at|date:"d M Y H:i" }}</p>
                </div>
                <div>
                    <p class="text-gray-500">Total Item</p>
                    <p class="font-bold">{{ object.get_total_qty }} item</p>
                </div>
            </div>
        </div>

        <div class="alert alert-info mb-4">
            <div>
                <i data-lucide="info"></i>
                <span>Transaksi ini akan dihapus beserta semua itemnya dan tidak bisa dipulihkan.</span>
            </div>
        </div>

        <form method="post" class="space-y-4 mt-6">
            {% csrf_token %}
            
            <div class="flex gap-2 justify-end">
                <a href="{% url 'transaction_detail' object.pk %}" class="btn btn-outline">
                    Batal
                </a>
                <button type="submit" name="confirm" value="yes" class="btn btn-error">
                    <i data-lucide="trash-2"></i> Hapus Transaksi
                </button>
            </div>
        </form>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize lucide icons
        if (typeof lucide !== 'undefined') {
            lucide.createIcons();
        }
    });
</script>
{% endblock %}
