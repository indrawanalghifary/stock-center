{% extends 'base.html' %}

{% block title %}Barcode - {{ variant.sku }}{% endblock %}

{% block content %}
<div class="max-w-md mx-auto text-center">
    <div class="mb-6 flex justify-between items-center no-print">
        <a href="{% url 'variant_detail' variant.pk %}" class="btn btn-ghost btn-sm">
            <i data-lucide="arrow-left"></i> Kembali
        </a>
        <button onclick="window.print()" class="btn btn-primary btn-sm">
            <i data-lucide="printer"></i> Cetak
        </button>
    </div>

    <div class="bg-white p-8 rounded-box shadow-lg inline-block border border-gray-200">
        <h2 class="text-xl font-bold mb-2 text-black">{{ variant.product.name }}</h2>
        <p class="text-gray-600 mb-4">{{ variant.color }} / {{ variant.size }}</p>
        
        <div class="flex justify-center bg-white p-4">
            <svg id="barcode"></svg>
        </div>
        
        <p class="mt-4 font-mono text-black font-bold">{{ variant.sku }}</p>
    </div>

    <div class="mt-10 no-print">
        <div class="alert alert-info shadow-sm">
            <i data-lucide="info"></i>
            <div>
                <h3 class="font-bold">Tips Cetak</h3>
                <div class="text-xs">Gunakan kertas stiker khusus untuk label produk. Atur skala cetak ke 100% di pengaturan printer.</div>
            </div>
        </div>
    </div>
</div>

<style>
    @media print {
        .no-print { display: none; }
        body { background: white; padding: 0; }
        .container { max-width: 100%; width: 100%; margin: 0; padding: 0; }
        .bg-white { shadow: none; border: none; }
    }
</style>

<script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
<script>
    JsBarcode("#barcode", "{{ variant.sku }}", {
        format: "CODE128",
        lineColor: "#000",
        width: 2,
        height: 100,
        displayValue: false
    });
</script>
{% endblock %}
