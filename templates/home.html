{% extends 'base.html' %}

{% block content %}
<div class="hero min-h-screen bg-base-200">
  <div class="hero-content text-center w-full max-w-4xl flex-col">
    <div class="max-w-md mb-8">
      <h1 class="text-5xl font-bold">Stock Center</h1>
      <p class="py-6">Sistem Manajemen Stok & Distribusi Profesional.</p>
      {% if not user.is_authenticated %}
        <a href="{% url 'login' %}" class="btn btn-primary">Login</a>
      {% endif %}
    </div>

    {% if user.is_authenticated %}
    <div class="stats shadow w-full stats-vertical lg:stats-horizontal">
  
        <div class="stat">
            <div class="stat-figure text-primary">
                <i data-lucide="package" class="w-8 h-8"></i>
            </div>
            <div class="stat-title">Total Stok Item</div>
            <div class="stat-value text-primary">{{ stock_count }}</div>
            <div class="stat-desc">Unit di seluruh gudang</div>
        </div>
        
        <div class="stat">
            <div class="stat-figure text-secondary">
                <i data-lucide="credit-card" class="w-8 h-8"></i>
            </div>
            <div class="stat-title">Total Piutang</div>
            <div class="stat-value text-secondary">Rp {{ receivables_value|floatformat:0 }}</div>
            <div class="stat-desc">Tagihan belum lunas</div>
        </div>
        
        <div class="stat">
            <div class="stat-figure text-secondary">
                <i data-lucide="shopping-cart" class="w-8 h-8"></i>
            </div>
            <div class="stat-title">Transaksi Hari Ini</div>
            <div class="stat-value">{{ transaction_count }}</div>
            <div class="stat-desc">Pesanan baru masuk</div>
        </div>
        
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-8 w-full">
        <a href="{% url 'transaction_create' %}" class="btn btn-lg btn-primary">
            <i data-lucide="plus-circle"></i> Transaksi Baru
        </a>
        <a href="{% url 'stock_in' %}" class="btn btn-lg btn-secondary">
            <i data-lucide="download"></i> Stok Masuk
        </a>
    </div>
    {% endif %}

  </div>
</div>
{% endblock %}